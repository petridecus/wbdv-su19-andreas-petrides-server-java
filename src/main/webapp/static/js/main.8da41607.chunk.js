(this["webpackJsonpwbdv-su20-apetrid-client-react"]=this["webpackJsonpwbdv-su20-apetrid-client-react"]||[]).push([[0],{28:function(e,t,n){e.exports=n(44)},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),s=n.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(17),i=n(13),u=n(14),l=n(1),d={newModuleTitle:"Some Module",modules:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_MODULE":return Object(l.a)(Object(l.a)({},e),{},{modules:e.modules.map((function(e){return e._id===t.updatedModule._id?t.updatedModule:e}))});case"FIND_MODULES_FOR_COURSE":return Object(l.a)(Object(l.a)({},e),{},{modules:t.modules});case"FIND_ALL_MODULES":return console.log(t.modules),Object(l.a)(Object(l.a)({},e),{},{modules:t.modules});case"ADD_MODULE":return{modules:[].concat(Object(u.a)(e.modules),[t.newModule])};case"DELETE_MODULE":return{modules:e.modules.filter((function(e){return e._id!==t.moduleId}))};default:return e}},m={lessons:[{_id:"123",title:"lesson 123"},{_id:"234",title:"lesson 234"},{_id:"345",title:"lesson 345"}]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_LESSON":return Object(l.a)(Object(l.a)({},e),{},{lessons:e.lessons.filter((function(e){return e._id!==t.lessonId}))});case"FIND_LESSONS_FOR_MODULE":return Object(l.a)(Object(l.a)({},e),{},{lessons:t.actualLessons});case"CREATE_LESSON":return Object(l.a)(Object(l.a)({},e),{},{lessons:[].concat(Object(u.a)(e.lessons),[t.newLesson])});default:return e}},b={topics:[{_id:"123",title:"lesson 123"},{_id:"234",title:"lesson 234"},{_id:"345",title:"lesson 345"}]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_TOPIC":return Object(l.a)(Object(l.a)({},e),{},{topics:e.topics.filter((function(e){return e._id!==t.topicId}))});case"FIND_TOPICS_FOR_LESSON":return Object(l.a)(Object(l.a)({},e),{},{topics:t.actualTopics});case"CREATE_TOPIC":return Object(l.a)(Object(l.a)({},e),{},{topics:[].concat(Object(u.a)(e.topics),[t.newTopic])});default:return e}},v={widgets:[]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_WIDGET":return Object(l.a)(Object(l.a)({},e),{},{widgets:e.widget.filter((function(e){return e._id!==t.widgetId}))});case"FIND_WIDGETS_FOR_TOPIC":return Object(l.a)(Object(l.a)({},e),{},{widgets:t.actualWidgets});case"CREATE_WIDGETS":return Object(l.a)(Object(l.a)({},e),{},{widgets:[].concat(Object(u.a)(e.widgets),[t.newWidget])});case"UPDATE_WIDGET":return Object(l.a)(Object(l.a)({},e),{},{widgets:e.widget.map((function(e){return e._id==t.widgetId?t.newWidget:e}))});default:return e}},E=n(8),w=n(7),O=n(2),y=n(3),j=n(5),N=n(4),T="https://wbdv-generic-server.herokuapp.com/api/apetrides/courses",k=function(e){return fetch(T,{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},C=function(){return fetch(T).then((function(e){return e.json()}))},_=function(e,t){return fetch(T+"/"+e,{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},S=function(e){return fetch(T+"/"+e,{method:"DELETE"}).then((function(e){return e.json()}))},I=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editing:!1,course:e.props.course},e.setEditing=function(t){return e.setState({editing:t})},e.ok=function(){return _(e.state.course._id,e.state.course).then((function(t){return e.setEditing(!1)}))},e.updateCourseTitle=function(t){return e.setState((function(e){return{course:Object(l.a)(Object(l.a)({},e.course),{},{title:t})}}))},e}return Object(y.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",{className:"wbdv-course wbdv-table-row"},r.a.createElement("th",{scope:"row"},!this.state.editing&&r.a.createElement(E.b,{className:"btn wbdv-title",to:"/editor/".concat(this.state.course._id)},this.state.course.title),this.state.editing&&r.a.createElement("input",{className:"form-control",onChange:function(t){return e.updateCourseTitle(t.target.value)},value:this.state.course.title})),r.a.createElement("td",{className:"wbdv-owner"},this.state.course.owner),r.a.createElement("td",{className:"wbdv-modified-date"},this.state.course.modified),!1===this.state.editing&&r.a.createElement("td",{className:"btn",onClick:function(){return e.setEditing(!0)}},"\u270e"),!0===this.state.editing&&r.a.createElement("span",null,r.a.createElement("td",{className:"btn",onClick:function(){return e.ok()}},"\u2713"),r.a.createElement("td",{className:"btn",onClick:function(){return e.props.removeCourse(e.state.course)}},"\xd7")))}}]),n}(r.a.Component),L=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("tbody",{className:"all-classes"},r.a.createElement("tr",{className:"bg-dark wbdv-table-title-row"},r.a.createElement("th",{colSpan:"4"},"Today")),this.props.courses.map((function(t){return r.a.createElement(I,{course:t,key:t._id,removeCourse:e.props.removeCourse})})),r.a.createElement("tr",{className:"bg-dark wbdv-table-title-row"},r.a.createElement("th",{colSpan:"4"},"Yesterday")),this.props.courses.map((function(t){return r.a.createElement(I,{course:t,key:t._id,removeCourse:e.props.removeCourse})})),r.a.createElement("tr",{className:"bg-dark wbdv-table-title-row"},r.a.createElement("th",{colSpan:"4"},"Previous")),this.props.courses.map((function(t){return r.a.createElement(I,{course:t,key:t._id,removeCourse:e.props.removeCourse})})))}}]),n}(r.a.Component),D=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"card course-card text-center"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},this.props.course.title),r.a.createElement("p",{className:"card-text"},"owner: "+this.props.course.owner),r.a.createElement(E.b,{to:"/editor/".concat(this.props.course._id),className:"btn btn-dark"},"Edit")))}}]),n}(r.a.Component),M=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"classes-grid d-flex flex-wrap"},this.props.courses.map((function(e){return r.a.createElement(D,{course:e,key:e._id})}))))}}]),n}(r.a.Component),x=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={layout:e.props.match.params.layout,courses:[],newCourseTitle:""},e.setLayout=function(t){return e.props.history.push("/".concat(t,"/courses"))},e.addCourse=function(t){return k({title:t,owner:"me",modified:(new Date).toDateString()}).then((function(t){return e.setState((function(e){return{courses:[].concat(Object(u.a)(e.courses),[t])}}))}))},e.removeCourse=function(t){return S(t._id).then((function(n){return e.setState((function(e){return{courses:e.courses.filter((function(e){return e!==t}))}}))}))},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;C().then((function(t){e.setState({courses:t})}))}},{key:"componentDidUpdate",value:function(e,t,n){e.match.params.layout!==this.props.match.params.layout&&this.setState({layout:this.props.match.params.layout})}},{key:"render",value:function(){var e=this;return console.log(this.props.match.params.layout),r.a.createElement("div",null,r.a.createElement("div",{className:"collapse",id:"navbarLinks"},r.a.createElement("ul",{className:"row nav nav-pills bg-dark homepage-button-group"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link btn btn-dark"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link btn btn-dark"},"Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link btn btn-dark"},"Register")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("form",{className:"wbdv-field wbdv-new-course form-inline"},r.a.createElement("input",{className:"form-control",onChange:function(t){return e.setState({newCourseTitle:t.target.value})},value:this.state.newCourseTitle,placeholder:"Course Title"}))),r.a.createElement("li",{className:"nav-item float-right"},r.a.createElement("button",{className:"wbdv-button wbdv-add-course nav-link btn btn-dark",onClick:function(){return e.addCourse(e.state.newCourseTitle)}},"+")))),r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("div",{className:"d-flex flex-row home-nav"},r.a.createElement("button",{className:"wbdv-field wbdv-hamburger navbar-toggler d-flex ml-auto",type:"button","data-toggle":"collapse","data-target":"#navbarLinks","aria-controls":"navbarLinks","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"wbdv-label wbdv-course-manager navbar-brand d-flex ml-auto"},"Course Manager"),"table"===this.state.layout&&r.a.createElement("button",{className:"btn ml-auto d-flex wbdv-button",onClick:function(){return e.setLayout("grid")}},"Grid"),"grid"===this.state.layout&&r.a.createElement("button",{className:"btn d-flex justify-content-right wbdv-button",onClick:function(){return e.setLayout("table")}},"Table"))),"table"===this.state.layout&&r.a.createElement("table",{className:"table wbdv-table"},r.a.createElement("thead",{className:"headers"},r.a.createElement("tr",{className:"wbdv-table-row"},r.a.createElement("th",{scope:"col",className:"wbdv-header wbdv-title"},"Title"),r.a.createElement("th",{scope:"col",className:"wbdv-header wbdv-owner"},"Owner"),r.a.createElement("th",{scope:"col",className:"wbdv-header wbdv-last-modified"},"Last Modified"),r.a.createElement("th",{className:"wbdv-header wbdv-header-buttons",scope:"col"},r.a.createElement("button",{className:"wbdv-button wbdv-sort btn"},"\u2191\u2193")))),r.a.createElement(L,{courses:this.state.courses,removeCourse:this.removeCourse})),"grid"===this.state.layout&&r.a.createElement(M,{courses:this.state.courses}))}}]),n}(r.a.Component),R=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wbdv-page-tab btn editor-btn active nav-item light-text"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(E.b,{className:"btn editor-btn light-text",to:"/editor/".concat(this.props.courseId,"/modules/").concat(this.props.moduleId,"/lessons/").concat(this.props.lesson._id)},this.props.lesson.title),r.a.createElement("button",{onClick:function(){return e.props.deleteLesson(e.props.lesson._id)},className:"wbdv-module-item-delete-btn btn editor-btn rounded-circle"},"\xd7")))}}]),n}(r.a.Component),F=function(e){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/lessons/".concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},P=function(e,t){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/modules/".concat(e,"/lessons"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},W=function(e){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/modules/".concat(e,"/lessons")).then((function(e){return e.json()}))},A=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={newLessonTitle:"New Lesson",editingLesson:{}},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.props.findLessonsForModule(this.props.params.moduleId)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"lesson-tabs"},void 0!==this.props.params.moduleId&&this.props.lessons.map((function(t){return r.a.createElement(R,{lesson:t,key:t._id,courseId:e.props.params.courseId,moduleId:e.props.params.moduleId,deleteLesson:e.props.deleteLesson})}))),r.a.createElement("div",{className:"lesson-form d-flex flex-row w-100"},r.a.createElement("input",{className:"form-control module-add-title mr-auto",onChange:function(t){return e.setState({newLessonTitle:t.target.value})},value:this.state.newLessonTitle}),r.a.createElement("button",{onClick:function(){return e.props.createLesson(e.props.params.moduleId,{title:e.state.newLessonTitle})},className:"btn editor-btn light-text"},"+")))}}]),n}(r.a.Component),U=Object(i.b)((function(e,t){return{lessons:e.lessonReducer.lessons,newLessonTitle:e.lessonReducer.newLessonTitle,params:t.params}}),(function(e){return{createLesson:function(t,n){console.log(t),console.log(n),P(t,n).then((function(t){return e({type:"CREATE_LESSON",newLesson:n})}))},findLessonsForModule:function(t){W(t).then((function(t){return e({type:"FIND_LESSONS_FOR_MODULE",actualLessons:t})}))},deleteLesson:function(t){F(t).then((function(n){return e({type:"DELETE_LESSON",lessonId:t})}))}}}))(A),H=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wbdv-topic-pill nav-item active-topic btn editor-btn btn-dark"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(E.b,{to:"/editor/".concat(this.props.courseId,"/modules/").concat(this.props.moduleId,"/lessons/").concat(this.props.lessonId,"/topics/").concat(this.props.topic._id),className:"btn btn-dark"},this.props.topic.title),r.a.createElement("button",{class:"btn editor-btn light-text",onClick:function(){return e.props.deleteTopic(e.props.topic._id)}},"x")))}}]),n}(r.a.Component),J=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={newTopicTitle:"New Topic Title"},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.props.findTopicsForLesson(this.props.params.lessonId)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"pills-frame"},void 0!==this.props.params.lessonId&&this.props.topics.map((function(t){return r.a.createElement(H,{topic:t,key:t._id,courseId:e.props.params.courseId,moduleId:e.props.params.moduleId,lessonId:e.props.params.lessonId,deleteTopic:e.props.deleteTopic})}))),r.a.createElement("input",{className:"form-control topic-add-title mr-auto",onChange:function(t){return e.setState({newTopicTitle:t.target.value})},value:this.state.newTopicTitle}),r.a.createElement("button",{onClick:function(){return e.props.createTopic(e.props.params.lessonId,{title:e.state.newTopicTitle})},className:"wbdv-new-page-btn btn"},"+"))}}]),n}(r.a.Component),G=function(e){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/topics/".concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},B=function(e,t){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/lessons/".concat(e,"/topics"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},Y=function(e){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/lessons/".concat(e,"/topics")).then((function(e){return e.json()}))},$=Object(i.b)((function(e,t){return{topics:e.topicReducer.topics,newTopicTitle:e.topicReducer.newTopicTitle,params:t.params}}),(function(e){return{createTopic:function(t,n){B(t,n).then((function(t){return e({type:"CREATE_TOPIC",newTopic:n})}))},findTopicsForLesson:function(t){Y(t).then((function(t){return e({type:"FIND_TOPICS_FOR_LESSON",actualTopics:t})}))},deleteTopic:function(t){G(t).then((function(n){return e({type:"DELETE_TOPIC",topicId:t})}))}}}))(J),q=n(20),z=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props.params)}},{key:"render",value:function(){var e=this;return r.a.createElement(E.b,{to:"/editor/".concat(this.props.courseId,"/modules/").concat(this.props.module._id),className:"btn wbdv-module-item list-group-item list-group-item-action d-flex align-items-start rounded"},r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("div",{className:"wbdv-module-item-title"},this.props.module.title),r.a.createElement("button",{onClick:function(){return e.props.deleteModule(e.props.module._id)},className:"wbdv-module-item-delete-btn btn editor-btn rounded-circle"},"\xd7")))}}]),n}(r.a.Component),K=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={newModuleTitle:"some other module",editingModule:{},courseId:""},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.props.findModuleForCourse(this.props.params.courseId)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"overflow-auto"},r.a.createElement("ul",{className:"list-group wbdv-module-list"},this.props.modules.map((function(t){return r.a.createElement(z,{module:t,key:t._id,courseId:e.props.params.courseId,deleteModule:e.props.deleteModule})}))),r.a.createElement("div",{className:"d-flex w-100"},r.a.createElement("input",{className:"form-control module-add-title mr-auto",onChange:function(t){return e.setState({newModuleTitle:t.target.value})},value:this.state.newModuleTitle}),r.a.createElement("button",Object(q.a)({className:"btn",onClick:function(){return e.props.createModule(e.props.params.courseId,{title:e.state.newModuleTitle})}},"className","btn editor-btn add-module-btn light-text"),"+")))}}]),n}(r.a.Component),Q=function(){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/modules").then((function(e){return e.json()}))},V=function(e){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/modules/"+e,{method:"DELETE"}).then((function(e){return e.json()}))},X=function(e,t){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/courses/".concat(e,"/modules"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},Z=function(e,t){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/modules/".concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},ee=function(e){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/courses/".concat(e,"/modules")).then((function(e){return e.json()}))},te=Object(i.b)((function(e,t){return{modules:e.moduleReducer.modules,newModuleTitle:e.moduleReducer.newModuleTitle,params:t.params}}),(function(e){return{findModuleForCourse:function(t){ee(t).then((function(t){return e({type:"FIND_MODULES_FOR_COURSE",modules:t})}))},findAllModules:function(){Q().then((function(t){return e({type:"FIND_ALL_MODULES",modules:t})}))},updateModule:function(t,n){Z(t,n).then((function(t){return e({type:"UPDATE_MODULE",updatedModule:n})}))},createModule:function(t,n){X(t,n).then((function(t){return e({type:"ADD_MODULE",newModule:t})}))},deleteModule:function(t){V(t).then((function(n){return e({type:"DELETE_MODULE",moduleId:t})}))}}}))(K),ne=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={widgetSubtype:"",widgetText:"",widgetName:""},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.setState({widgetName:this.props.widget.name,widgetSubtype:this.props.widgetSubtype,widgetText:this.props.widget.text})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("input",{className:"form-control",onChange:function(t){return e.setState({widgetText:t.target.value})}}),r.a.createElement("select",{class:"custom-select mr-sm-2",onChange:function(t){e.setState({widgetSubtype:t.target.value})}},r.a.createElement("option",{selected:!0},"Heading 1"),r.a.createElement("option",{value:"h1"},"Heading 1"),r.a.createElement("option",{value:"h2"},"Heading 2"),r.a.createElement("option",{value:"h3"},"Heading 3"),r.a.createElement("option",{value:"h4"},"Heading 4"),r.a.createElement("option",{value:"h5"},"Heading 5"),r.a.createElement("option",{value:"h6"},"Heading 6")),r.a.createElement("input",{className:"form-control",onChange:function(t){return e.setState({widgetName:t.target.value})}}))}}]),n}(r.a.Component),ae=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={widgetText:"",widgetName:""},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.setState({widgetName:this.props.widget.name,widgetText:this.props.widget.text})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("input",{className:"form-control",rows:"3",onChange:function(t){return e.setState({widgetText:t.target.value})}}),r.a.createElement("input",{className:"form-control",onChange:function(t){return e.setState({widgetName:t.target.value})}}))}}]),n}(r.a.Component),re=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={widgetType:""},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.setState({widgetText:this.props.widget.text,widgetName:this.props.widget.name,widgetType:this.props.widget.type,widgetSubtype:this.props.widget.subtype})}},{key:"render",value:function(){var e=this;return r.a.createElement("form",null,r.a.createElement("select",{class:"custom-select mr-sm-2",onChange:function(t){e.setState({widgetType:t.target.value})}},r.a.createElement("option",{selected:!0},"Heading"),r.a.createElement("option",{value:"heading"},"Heading"),r.a.createElement("option",{value:"paragraph"},"Paragraph")),r.a.createElement("button",{onClick:function(){return e.props.deleteWidget(e.props.widget._id)}},"x"),"heading"===this.state.widgetType&&r.a.createElement(ne,{widget:this.props.widget}),"paragraph"===this.state.widgetType&&r.a.createElement(ae,{widget:this.props.widget}),r.a.createElement("button",{className:"btn",onClick:function(){return e.props.updateWidget(e.props.widget._id,{type:e.state.widgetType,subtype:e.state.widgetSubtype,name:e.state.widgetState,text:e.state.widgetText})}},"Update"))}}]),n}(r.a.Component),oe=function(e){Object(j.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editing:"false"},e}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.props.findWidgetsForTopic(this.props.params.topicId)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.props.widgets.map((function(t){return r.a.createElement(re,{widget:t,key:t._id,deleteWidget:e.props.deleteWidget,updateWidget:e.props.updateWidget})})),r.a.createElement("button",{className:"btn",onClick:function(){return e.props.createWidget(e.props.params.topicId,{name:"Default Heading",type:"heading",subtype:"h1",text:"Default Heading"})}},"+"))}}]),n}(r.a.Component),se=function(e){return fetch("https://wbdv-su20-apetrid-server-java.herokuapp.com/api/widgets/".concat(e),{method:"DELETE"}).then((function(e){return e.json()}))},ce=function(e,t){return fetch("https://wbdv-su20-apetrid-server-java.herokuapp.com/api/topics/".concat(e,"/widgets"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},ie=function(e){return fetch("https://wbdv-su20-apetrid-server-java.herokuapp.com/api/topics/".concat(e,"/widgets")).then((function(e){return e.json()}))},ue=function(e,t){return fetch("https://wbdv-su20-apetrid-server-java.herokuapp.com/api/widgets/".concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},le=Object(i.b)((function(e,t){return{widgets:e.widgetReducer.widgets,newWidgetTitle:e.widgetReducer.newWidgetTitle,params:t.params}}),(function(e){return{createWidget:function(t,n){console.log(t),ce(t,n).then((function(t){return e({type:"CREATE_TOPIC",newWidget:n})}))},findWidgetsForTopic:function(t){ie(t).then((function(t){return e({type:"FIND_TOPICS_FOR_LESSON",actualWidgets:t})}))},deleteWidget:function(t){se(t).then((function(n){return e({type:"DELETE_TOPIC",widgetId:t})}))},updateWidget:function(t,n){ue(t,n).then((function(t){return e({type:"UPDATE_TOPIC",newWidget:n})}))}}}))(oe),de=function(e){var t=e.match;return r.a.createElement("div",{className:"container-fluid editor-container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark d-flex flex-row"},r.a.createElement("div",{className:"d-flex w-100 align-items-center"},r.a.createElement(E.b,{className:"wbdv-course-editor wbdv-close mr-auto nav-link btn btn-dark rounded-circle nav-light-text",to:"/table/courses"},"\xd7"),r.a.createElement("div",{className:"wbdv-course-title navbar-brand mr-auto"},"Course Title"))),r.a.createElement("div",{className:"row editor-row"},r.a.createElement("div",{className:"content-frame col-4 rounded"},r.a.createElement(te,t)),r.a.createElement("div",{className:"col-8 rounded"},r.a.createElement("div",{className:"overflow-auto"},r.a.createElement("div",{className:"lessons-row"},r.a.createElement(U,t))),r.a.createElement("div",{className:"content-frame-right"},r.a.createElement("div",{className:"lesson-frame"},r.a.createElement($,t),r.a.createElement(le,t))))))};var pe=function(){return r.a.createElement(E.a,null,r.a.createElement(w.b,{path:"/",exact:!0},r.a.createElement(w.a,{to:"/table/courses"})),r.a.createElement(w.b,{path:"/courses",component:x}),r.a.createElement(w.b,{path:"/:layout/courses",exact:!0,component:x}),r.a.createElement(w.b,{path:["/editor","/editor/:courseId","/editor/:courseId/modules/:moduleId","/editor/:courseId/modules/:moduleId/lessons/:lessonId","/editor/:courseId/modules/:moduleId/lessons/:lessonId/topics/:topicId"],exact:!0,component:de}))},me=(n(38),n(39),n(42),n(43),Object(c.b)({moduleReducer:p,lessonReducer:h,topicReducer:f,widgetReducer:g})),he=Object(c.c)(me);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:he},r.a.createElement(pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.8da41607.chunk.js.map