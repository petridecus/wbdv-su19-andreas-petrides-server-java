(this["webpackJsonpwbdv-su20-apetrid-client-react"]=this["webpackJsonpwbdv-su20-apetrid-client-react"]||[]).push([[0],{28:function(e,t,n){e.exports=n(44)},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),s=n.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(17),i=n(13),l=n(14),u=n(2),d={newModuleTitle:"Some Module",modules:[]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_MODULE":return Object(u.a)(Object(u.a)({},e),{},{modules:e.modules.map((function(e){return e._id===t.updatedModule._id?t.updatedModule:e}))});case"FIND_MODULES_FOR_COURSE":return Object(u.a)(Object(u.a)({},e),{},{modules:t.modules});case"FIND_ALL_MODULES":return console.log(t.modules),Object(u.a)(Object(u.a)({},e),{},{modules:t.modules});case"ADD_MODULE":return{modules:[].concat(Object(l.a)(e.modules),[t.newModule])};case"DELETE_MODULE":return{modules:e.modules.filter((function(e){return e._id!==t.moduleId}))};default:return e}},p={lessons:[{_id:"123",title:"lesson 123"},{_id:"234",title:"lesson 234"},{_id:"345",title:"lesson 345"}]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_LESSON":return Object(u.a)(Object(u.a)({},e),{},{lessons:e.lessons.filter((function(e){return e._id!==t.lessonId}))});case"FIND_LESSONS_FOR_MODULE":return Object(u.a)(Object(u.a)({},e),{},{lessons:t.actualLessons});case"CREATE_LESSON":return Object(u.a)(Object(u.a)({},e),{},{lessons:[].concat(Object(l.a)(e.lessons),[t.newLesson])});default:return e}},h={topics:[{_id:"123",title:"lesson 123"},{_id:"234",title:"lesson 234"},{_id:"345",title:"lesson 345"}]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_TOPIC":return Object(u.a)(Object(u.a)({},e),{},{topics:e.topics.filter((function(e){return e._id!==t.topicId}))});case"FIND_TOPICS_FOR_LESSON":return Object(u.a)(Object(u.a)({},e),{},{topics:t.actualTopics});case"CREATE_TOPIC":return Object(u.a)(Object(u.a)({},e),{},{topics:[].concat(Object(l.a)(e.topics),[t.newTopic])});default:return e}},v=n(11),E=n(7),w=n(3),O=n(4),g=n(6),N=n(5),j="https://wbdv-generic-server.herokuapp.com/api/apetrides/courses",y=function(e){return fetch(j,{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},k=function(){return fetch(j).then((function(e){return e.json()}))},T=function(e,t){return fetch(j+"/"+e,{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},L=function(e){return fetch(j+"/"+e,{method:"DELETE"}).then((function(e){return e.json()}))},C=function(e){Object(g.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editing:!1,course:e.props.course},e.setEditing=function(t){return e.setState({editing:t})},e.ok=function(){return T(e.state.course._id,e.state.course).then((function(t){return e.setEditing(!1)}))},e.updateCourseTitle=function(t){return e.setState((function(e){return{course:Object(u.a)(Object(u.a)({},e.course),{},{title:t})}}))},e}return Object(O.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",{className:"wbdv-course wbdv-table-row"},r.a.createElement("th",{scope:"row"},!this.state.editing&&r.a.createElement(v.b,{className:"btn wbdv-title",to:"/editor/".concat(this.state.course._id)},this.state.course.title),this.state.editing&&r.a.createElement("input",{className:"form-control",onChange:function(t){return e.updateCourseTitle(t.target.value)},value:this.state.course.title})),r.a.createElement("td",{className:"wbdv-owner"},this.state.course.owner),r.a.createElement("td",{className:"wbdv-modified-date"},this.state.course.modified),!1===this.state.editing&&r.a.createElement("td",{className:"btn",onClick:function(){return e.setEditing(!0)}},"\u270e"),!0===this.state.editing&&r.a.createElement("span",null,r.a.createElement("td",{className:"btn",onClick:function(){return e.ok()}},"\u2713"),r.a.createElement("td",{className:"btn",onClick:function(){return e.props.removeCourse(e.state.course)}},"\xd7")))}}]),n}(r.a.Component),_=function(e){Object(g.a)(n,e);var t=Object(N.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("tbody",{className:"all-classes"},r.a.createElement("tr",{className:"bg-dark wbdv-table-title-row"},r.a.createElement("th",{colSpan:"4"},"Today")),this.props.courses.map((function(t){return r.a.createElement(C,{course:t,key:t._id,removeCourse:e.props.removeCourse})})),r.a.createElement("tr",{className:"bg-dark wbdv-table-title-row"},r.a.createElement("th",{colSpan:"4"},"Yesterday")),this.props.courses.map((function(t){return r.a.createElement(C,{course:t,key:t._id,removeCourse:e.props.removeCourse})})),r.a.createElement("tr",{className:"bg-dark wbdv-table-title-row"},r.a.createElement("th",{colSpan:"4"},"Previous")),this.props.courses.map((function(t){return r.a.createElement(C,{course:t,key:t._id,removeCourse:e.props.removeCourse})})))}}]),n}(r.a.Component),S=function(e){Object(g.a)(n,e);var t=Object(N.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"card course-card text-center"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},this.props.course.title),r.a.createElement("p",{className:"card-text"},"owner: "+this.props.course.owner),r.a.createElement(v.b,{to:"/editor/".concat(this.props.course._id),className:"btn btn-dark"},"Edit")))}}]),n}(r.a.Component),I=function(e){Object(g.a)(n,e);var t=Object(N.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"classes-grid d-flex flex-wrap"},this.props.courses.map((function(e){return r.a.createElement(S,{course:e,key:e._id})}))))}}]),n}(r.a.Component),M=function(e){Object(g.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={layout:e.props.match.params.layout,courses:[],newCourseTitle:""},e.setLayout=function(t){return e.props.history.push("/".concat(t,"/courses"))},e.addCourse=function(t){return y({title:t,owner:"me",modified:(new Date).toDateString()}).then((function(t){return e.setState((function(e){return{courses:[].concat(Object(l.a)(e.courses),[t])}}))}))},e.removeCourse=function(t){return L(t._id).then((function(n){return e.setState((function(e){return{courses:e.courses.filter((function(e){return e!==t}))}}))}))},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=this;k().then((function(t){e.setState({courses:t})}))}},{key:"componentDidUpdate",value:function(e,t,n){e.match.params.layout!==this.props.match.params.layout&&this.setState({layout:this.props.match.params.layout})}},{key:"render",value:function(){var e=this;return console.log(this.props.match.params.layout),r.a.createElement("div",null,r.a.createElement("div",{className:"collapse",id:"navbarLinks"},r.a.createElement("ul",{className:"row nav nav-pills bg-dark homepage-button-group"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link btn btn-dark"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link btn btn-dark"},"Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{className:"nav-link btn btn-dark"},"Register")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("form",{className:"wbdv-field wbdv-new-course form-inline"},r.a.createElement("input",{className:"form-control",onChange:function(t){return e.setState({newCourseTitle:t.target.value})},value:this.state.newCourseTitle,placeholder:"Course Title"}))),r.a.createElement("li",{className:"nav-item float-right"},r.a.createElement("button",{className:"wbdv-button wbdv-add-course nav-link btn btn-dark",onClick:function(){return e.addCourse(e.state.newCourseTitle)}},"+")))),r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("div",{className:"d-flex flex-row home-nav"},r.a.createElement("button",{className:"wbdv-field wbdv-hamburger navbar-toggler d-flex ml-auto",type:"button","data-toggle":"collapse","data-target":"#navbarLinks","aria-controls":"navbarLinks","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"wbdv-label wbdv-course-manager navbar-brand d-flex ml-auto"},"Course Manager"),"table"===this.state.layout&&r.a.createElement("button",{className:"btn ml-auto d-flex wbdv-button",onClick:function(){return e.setLayout("grid")}},"Grid"),"grid"===this.state.layout&&r.a.createElement("button",{className:"btn d-flex justify-content-right wbdv-button",onClick:function(){return e.setLayout("table")}},"Table"))),"table"===this.state.layout&&r.a.createElement("table",{className:"table wbdv-table"},r.a.createElement("thead",{className:"headers"},r.a.createElement("tr",{className:"wbdv-table-row"},r.a.createElement("th",{scope:"col",className:"wbdv-header wbdv-title"},"Title"),r.a.createElement("th",{scope:"col",className:"wbdv-header wbdv-owner"},"Owner"),r.a.createElement("th",{scope:"col",className:"wbdv-header wbdv-last-modified"},"Last Modified"),r.a.createElement("th",{className:"wbdv-header wbdv-header-buttons",scope:"col"},r.a.createElement("button",{className:"wbdv-button wbdv-sort btn"},"\u2191\u2193")))),r.a.createElement(_,{courses:this.state.courses,removeCourse:this.removeCourse})),"grid"===this.state.layout&&r.a.createElement(I,{courses:this.state.courses}))}}]),n}(r.a.Component),D=function(e){Object(g.a)(n,e);var t=Object(N.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(v.b,{to:"/editor/".concat(this.props.courseId,"/modules/").concat(this.props.moduleId,"/lessons/").concat(this.props.lesson._id),className:"wbdv-page-tab btn editor-btn active nav-item light-text"},this.props.lesson.title,r.a.createElement("button",{onClick:function(){return e.props.deleteLesson(e.props.lesson._id)},className:"wbdv-module-item-delete-btn btn editor-btn rounded-circle"},"\xd7"))}}]),n}(r.a.Component),x=function(e,t){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/lessons/".concat(t),{method:"DELETE"}).then((function(e){return e.json()}))},F=function(e,t){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/modules/".concat(e,"/lessons"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},R=function(e){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/modules/".concat(e,"/lessons")).then((function(e){return e.json()}))},U=function(e){Object(g.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={newLessonTitle:"New Lesson",editingLesson:{}},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.props.findLessonsForModule(this.props.params.moduleId)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,void 0!==this.props.params.moduleId&&this.props.lessons.map((function(t){return r.a.createElement(D,{lesson:t,key:t._id,courseId:e.props.params.courseId,moduleId:e.props.params.moduleId,deleteLesson:e.props.deleteLesson})})),r.a.createElement("input",{className:"form-control module-add-title mr-auto",onChange:function(t){return e.setState({newLessonTitle:t.target.value})},value:this.state.newLessonTitle}),r.a.createElement("button",{onClick:function(){return e.props.createLesson(e.props.params.moduleId,{title:e.state.newLessonTitle})},className:"wbdv-new-page-btn btn editor-btn light-text ml-auto"},"+"))}}]),n}(r.a.Component),A=Object(i.b)((function(e,t){return{lessons:e.lessonReducer.lessons,newLessonTitle:e.lessonReducer.newLessonTitle,params:t.params}}),(function(e){return{createLesson:function(t,n){F(t,n).then((function(t){return e({type:"CREATE_LESSON",newLesson:n})}))},findLessonsForModule:function(t){R(t).then((function(t){return e({type:"FIND_LESSONS_FOR_MODULE",actualLessons:t})}))},deleteLesson:function(t){x(t).then((function(n){return e({type:"DELETE_LESSON",lessonId:t})}))}}}))(U),P=function(e){Object(g.a)(n,e);var t=Object(N.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return r.a.createElement("button",{className:"wbdv-topic-pill active-topic btn btn-dark"},this.props.topic.title)}}]),n}(r.a.Component),J=function(e){Object(g.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={newTopicTitle:"New Topic Title"},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.props.findTopicsForLesson(this.props.params.lessonId)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,void 0!==this.props.params.lessonId&&this.props.topics.map((function(e){return r.a.createElement(P,{topic:e,key:e._id})})),r.a.createElement("input",{className:"form-control module-add-title mr-auto",onChange:function(t){return e.setState({newTopicTitle:t.target.value})},value:this.state.newTopicTitle}),r.a.createElement("button",{onClick:function(){return e.props.createTopic(e.props.params.lessonId,{title:e.state.newTopicTitle})},className:"wbdv-new-page-btn btn editor-btn light-text ml-auto"},"+"))}}]),n}(r.a.Component),q=function(e,t){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/topics/".concat(t),{method:"DELETE"}).then((function(e){return e.json()}))},B=function(e,t){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/lessons/".concat(e,"/topics"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},W=function(e){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/lessons/".concat(e,"/topics")).then((function(e){return e.json()}))},G=Object(i.b)((function(e){return{topics:e.topicReducer.topics}}),(function(e){return{createTopic:function(t,n){B(t,n).then((function(t){return e({type:"CREATE_TOPIC",newTopic:n})}))},findTopicsForLesson:function(t){W(t).then((function(t){return e({type:"FIND_TOPICS_FOR_LESSON",actualTopics:t})}))},deleteTopic:function(t){q(t).then((function(n){return e({type:"DELETE_TOPIC",topicId:t})}))}}}))(J),H=n(20),Y=function(e){Object(g.a)(n,e);var t=Object(N.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props.params)}},{key:"render",value:function(){var e=this;return r.a.createElement(v.b,{to:"/editor/".concat(this.props.courseId,"/modules/").concat(this.props.module._id),className:"btn wbdv-module-item list-group-item list-group-item-action d-flex align-items-start rounded"},r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("div",{className:"wbdv-module-item-title"},this.props.module.title),r.a.createElement("button",{onClick:function(){return e.props.deleteModule(e.props.module._id)},className:"wbdv-module-item-delete-btn btn editor-btn rounded-circle"},"\xd7")))}}]),n}(r.a.Component),$=function(e){Object(g.a)(n,e);var t=Object(N.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={newModuleTitle:"some other module",editingModule:{},courseId:""},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.props.findModuleForCourse(this.props.params.courseId)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"overflow-auto"},r.a.createElement("ul",{className:"list-group wbdv-module-list"},this.props.modules.map((function(t){return r.a.createElement(Y,{module:t,key:t._id,courseId:e.props.params.courseId,deleteModule:e.props.deleteModule})}))),r.a.createElement("div",{className:"wbdv-module-add list-group-item d-flex align-items-center w-100 justify-content-start"},r.a.createElement("input",{className:"form-control module-add-title mr-auto",onChange:function(t){return e.setState({newModuleTitle:t.target.value})},value:this.state.newModuleTitle}),r.a.createElement("button",Object(H.a)({className:"btn",onClick:function(){return e.props.createModule(e.props.params.courseId,{title:e.state.newModuleTitle})}},"className","btn editor-btn add-module-btn light-text"),"+")))}}]),n}(r.a.Component),z=function(){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/modules").then((function(e){return e.json()}))},K=function(e){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/modules/"+e,{method:"DELETE"}).then((function(e){return e.json()}))},Q=function(e,t){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/courses/".concat(e,"/modules"),{method:"POST",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},V=function(e,t){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/modules/".concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}))},X=function(e){return fetch("https://wbdv-generic-server.herokuapp.com/api/001607780/courses/".concat(e,"/modules")).then((function(e){return e.json()}))},Z=Object(i.b)((function(e,t){return{modules:e.moduleReducer.modules,newModuleTitle:e.moduleReducer.newModuleTitle,params:t.params}}),(function(e){return{findModuleForCourse:function(t){X(t).then((function(t){return e({type:"FIND_MODULES_FOR_COURSE",modules:t})}))},findAllModules:function(){z().then((function(t){return e({type:"FIND_ALL_MODULES",modules:t})}))},updateModule:function(t,n){V(t,n).then((function(t){return e({type:"UPDATE_MODULE",updatedModule:n})}))},createModule:function(t,n){Q(t,n).then((function(t){return e({type:"ADD_MODULE",newModule:t})}))},deleteModule:function(t){K(t).then((function(n){return e({type:"DELETE_MODULE",moduleId:t})}))}}}))($),ee=function(e){var t=e.match;return r.a.createElement("div",{className:"container-fluid editor-container"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark d-flex flex-row"},r.a.createElement("div",{className:"d-flex w-100 align-items-center"},r.a.createElement(v.b,{className:"wbdv-course-editor wbdv-close mr-auto nav-link btn btn-dark rounded-circle nav-light-text",to:"/table/courses"},"\xd7"),r.a.createElement("div",{className:"wbdv-course-title navbar-brand mr-auto"},"Course Title"))),r.a.createElement("div",{className:"row editor-row"},r.a.createElement("div",{className:"content-frame col-4 rounded"},r.a.createElement(Z,t)),r.a.createElement("div",{className:"col-8 rounded"},r.a.createElement("div",{className:"lessons-row d-flex flex-row w-100"},r.a.createElement(A,t)),r.a.createElement("div",{className:"content-frame-right"},r.a.createElement(G,t),r.a.createElement("div",{className:"topic-frame border border-dark rounded"},r.a.createElement("h4",null,"Heading"),r.a.createElement("div",{className:"topic-content"},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ad expedita dolorum nemo, voluptatem quasi id ab porro enim recusandae modi nostrum nulla ullam magni architecto doloremque explicabo. Facere, animi in."))))))};var te=function(){return r.a.createElement(v.a,null,r.a.createElement(E.b,{path:"/",exact:!0},r.a.createElement(E.a,{to:"/table/courses"})),r.a.createElement(E.b,{path:"/courses",component:M}),r.a.createElement(E.b,{path:"/:layout/courses",exact:!0,component:M}),r.a.createElement(E.b,{path:["/editor","/editor/:courseId","/editor/:courseId/modules/:moduleId","/editor/:courseId/modules/:moduleId/lessons/:lessonId","/editor/:courseId/modules/:moduleId/lessons/:lessonId/topics/:topicId"],exact:!0,component:ee}))},ne=(n(38),n(39),n(42),n(43),Object(c.b)({moduleReducer:m,lessonReducer:b,topicReducer:f})),ae=Object(c.c)(ne);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:ae},r.a.createElement(te,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.9e52decb.chunk.js.map